#!/usr/bin/env python

from tf.transformations import unit_vector, quaternion_multiply, quaternion_conjugate

def quad_vec_mult(q1, v1):
    """Rotate vector v1 by quaternion q1, and return the resulting vector.
    From https://answers.ros.org/question/196149/how-to-rotate-vector-by-quaternion-in-python/
    """
    v1 = unit_vector(v1)
    q2 = list(v1)
    q2.append(0.0)
    return quaternion_multiply(
        quaternion_multiply(q1, q2), 
        quaternion_conjugate(q1)
    )[:3]
